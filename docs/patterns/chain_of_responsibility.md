---
sidebar_position: 6
sidebar_label: Цепочка обязанностей
title: Цепочка обязанностей (Chain of responsibility)
description: Chain of responsibility
---
## Теория
**Цепочка обязанностей** - используется для пошаговой обработки запроса, когда на каждом шаге выполняются разные действия, независимые друг от друга.

- Возможность динамического добавления или удаления обязанностей посредством изменения элементов цепочки или их порядка.
- Цепочки могут усложнять отслеживание запросов и отладку.
## БСП
- 
## Примеры
- https://github.com/zeegin/DesignPatterns/tree/master/ChainOfResponsibility
- https://infostart.ru/1c/articles/851798/
## Код
Есть механизм обмена с внешними источниками данных.

Основные этапы:
1. Чтение данных из внешнего источника
2. Преобразование данных под формат 1С
3. Загрузка данных
4. Проведение документов

Каждый из этапов реализован в виде отдельных методов. Такой подход позволяет:

- Использовать универсальные механизмы на каждом этапе
- Гибко менять порядок выполнения
- Добавлять новую логику в цепочку
```
Процедура ОбменДаннымиПоСобытию(ИсточникДанных)

    Данные = ДанныеИзВнешнегоИсточника(ИсточникДанных);
    
    ПреобразоватьДанныеВФорматКонфигурации(Данные);
    
    ЗагрузитьДанные(Данные);

    ОбработатьДокументы(Данные);

КонецПроцедуры
```